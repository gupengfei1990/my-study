一、各个垃圾回收器的比较

1、Serial，历史最悠久的收集器，单线程工作，在进行垃圾回收时必须暂停其他所有的工作线程，直到它回收结束。在多核CPU环境下，作为服务端的垃圾回收器使用的话，效率低下。

2、ParNew，Serial回收器的多线程并行版本，在年轻代使用，除了使用多线程进行垃圾回收，其余的行为、收集算法、回收策略等都与Serial类似。

3、Parallel，年轻代对应的回收器是Parallel Scavenge，老年代对应的回收器是Parallel Old，多线程工作，更关注达到一个可控制的吞吐量。

4、CMS，是一种以获取最短回收停顿时间为目标的回收器，优点是：并发收集、低停顿。一般配合ParNew一起使用，目前我所在的公司的java程序基本都是使用CMS回收算法。

5、G1，是垃圾回收技术发展史上的里程碑式的成果，开创了回收器面向局部收集的设计思路和基于Region的内存布局形式。最初的开发它的期望，是替换掉CMS。


二、堆

堆设置的越大，垃圾回收频率就越低，但是单次垃圾回收时长也会变大，具体的堆设置多大，需要根据业务场景来决定